# server
## 目录
+ 应用管理
    + 新增应用
    + 修改应用
    + 删除应用
    + 分页查询应用
+ 用户管理
  + 新增用户
  + 修改用户
  + 删除用户
  + 分页查询用户
  + 登录
  + 修改个人密码
  + 查询用户信息
+ 角色管理
  + 新增角色
  + 修改角色
  + 删除角色
  + 分页查询角色
  + 分配权限
+ 菜单管理
  + 新增菜单
  + 修改菜单
  + 删除菜单
  + 分页查询菜单
  + 菜单排序
+ 下拉
  + 应用下拉
  + 角色下拉
  + 用户下拉
## 应用管理
应用管理只开放给超级管理员使用，普通管理员不能使用该功能。应用管理用于实现多租户功能，在用户角色菜单等表中，加入一个`app_id`字段即可实现数据隔离。
### 新增应用
新增一个应用，并新增一个应用管理员，应用管理员只能登录认证服务后台，登录认证服务后，可以对本应用下的所有用户角色权限进行管理

### 修改应用
修改应用的首页地址，备注等信息

### 删除应用
删除应用，并删除应用下的所有用户角色菜单等信息

### 分页查询
查询已有的应用

### 安全
创建新应用会自动生成为期30天的秘钥，

理想情况（两对密钥）：
1. 客户端生成自己的私钥、公钥、证书。然后将证书发给服务端。
2. 服务端首先保存客户端发送的证书，然后也生成自己的私钥、公钥、证书。然后将证书发给客户端。
3. 客户端将服务端发送的证书保存到本地。
4. 客户端请求服务端接口时，使用自己的私钥进行加签。
5. 服务端收到客户端请求后，使用客户端的证书进行验签。
6. 服务端请求客户端时，使用服务端自己的私钥进行加签。
7. 客户端收到服务端请求时，使用服务端的证书进行验签。

现在（共用密钥）
1. 服务端对每个应用生成唯一的私钥、公钥、证书。
2. 将私钥、证书发送给客户端。
3. 客户端请求服务端接口时，使用私钥进行加签。
4. 服务端收到客户端请求后，使用证书进行验签。
5. 服务端请求客户端时，使用私钥进行加签。
6. 客户端收到服务端请求时，使用证书进行验签。
